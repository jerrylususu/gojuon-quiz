(function(){var t={3482:function(t,a,n){"use strict";n.r(a),a["default"]={quickstart_title:t=>{const{normalize:a}=t;return a(["Quickstart"])},quickstart_content:[t=>{const{normalize:a}=t;return a(["Randomly choose A hiragana or katakana, and enter its corresponding sound."])},t=>{const{normalize:a}=t;return a(["If the input is correct, the background of the input box will turn green, and you can press Enter to enter the next question, or wait for it to automatically display the next question. If the input is incorrect, the background of the input box turns red, and you need to press Enter to manually enter the next question."])},t=>{const{normalize:a}=t;return a(["Only correct answers will be counted for speed and accuracy. The first entry does not count. The greener the color, the better (shorter time, higher accuracy)."])},t=>{const{normalize:a}=t;return a(["Give me a star: "])},t=>{const{normalize:a}=t;return a(["Why use a password input?: This allows the IME (input method editor) to be bypassed, so this app can be used on phones."])}],settings_title:t=>{const{normalize:a}=t;return a(["Settings"])},settings:{input_wait:t=>{const{normalize:a}=t;return a(["Wait time after correct input"])},font:t=>{const{normalize:a}=t;return a(["Font setting"])},test_on:t=>{const{normalize:a}=t;return a(["Test on"])},nothing_can_be_shown:t=>{const{normalize:a}=t;return a(["Nothing can be shown"])},enabled_rows:t=>{const{normalize:a}=t;return a(["Enabled rows of kana"])},play_sound:t=>{const{normalize:a}=t;return a(["Play Sound After Reveal"])},play_sound_not_supported:t=>{const{normalize:a}=t;return a(["Your browser does not support Web Speech API"])},dark_mode:t=>{const{normalize:a}=t;return a(["Theme Mode"])},theme_system:t=>{const{normalize:a}=t;return a(["System"])},theme_light:t=>{const{normalize:a}=t;return a(["Light"])},theme_dark:t=>{const{normalize:a}=t;return a(["Dark"])}},history_title:t=>{const{normalize:a}=t;return a(["Stats"])},history:{overall_accuracy:t=>{const{normalize:a}=t;return a(["Overall Accuracy"])},overall_time:t=>{const{normalize:a}=t;return a(["Avg. Time"])},finished_pool:t=>{const{normalize:a}=t;return a(["Round Finished"])},combo:t=>{const{normalize:a}=t;return a(["Combo"])},max_combo:t=>{const{normalize:a}=t;return a(["Max"])},last_10:t=>{const{normalize:a}=t;return a(["Last 10"])}},hiragana:t=>{const{normalize:a}=t;return a(["Hiragana"])},katakana:t=>{const{normalize:a}=t;return a(["Katakana"])},sound:t=>{const{normalize:a}=t;return a(["Sound"])},click_above_to_start:t=>{const{normalize:a}=t;return a(["Click the box to start typing"])},speed_stat:t=>{const{normalize:a}=t;return a(["Speed / Response Time"])},accuracy_stat:t=>{const{normalize:a}=t;return a(["Accuracy"])},update_available:t=>{const{normalize:a}=t;return a(["An update is available, click to update"])},update_button:t=>{const{normalize:a}=t;return a(["Update"])}}},7625:function(t,a,n){"use strict";n.r(a),a["default"]={quickstart_title:t=>{const{normalize:a}=t;return a(["使用说明"])},quickstart_content:[t=>{const{normalize:a}=t;return a(["随机显示一个平假名或片假名，需要输入其对应的发音。"])},t=>{const{normalize:a}=t;return a(["输入正确后输入框背景会变为绿色，可以按下回车进入下一题，但稍等一会也会自动进入下一题。输入错误后输入框背景变为红色，需要按下回车手动进入下一题。"])},t=>{const{normalize:a}=t;return a(["仅正确输入会计入时间和准确率。首次输入不计入时间和准确率。数值颜色越绿表示越好（时间更短、准确率越高）。"])},t=>{const{normalize:a}=t;return a(["点个 Star 吧："])},t=>{const{normalize:a}=t;return a(["为什么输入框会显示为密码？：是为了防止在手机上使用时，输入法造成干扰。"])}],settings_title:t=>{const{normalize:a}=t;return a(["设置"])},settings:{input_wait:t=>{const{normalize:a}=t;return a(["输入正确后等待时间"])},font:t=>{const{normalize:a}=t;return a(["假名字体"])},test_on:t=>{const{normalize:a}=t;return a(["题目包括"])},nothing_can_be_shown:t=>{const{normalize:a}=t;return a(["没有可以显示的题目"])},enabled_rows:t=>{const{normalize:a}=t;return a(["题目包含的五十音图行"])},play_sound:t=>{const{normalize:a}=t;return a(["显示结果时播放读音"])},play_sound_not_supported:t=>{const{normalize:a}=t;return a(["您的浏览器不支持 Web Speech API"])},dark_mode:t=>{const{normalize:a}=t;return a(["主题模式"])},theme_system:t=>{const{normalize:a}=t;return a(["跟随系统"])},theme_light:t=>{const{normalize:a}=t;return a(["浅色"])},theme_dark:t=>{const{normalize:a}=t;return a(["深色"])}},history_title:t=>{const{normalize:a}=t;return a(["历史数据"])},history:{overall_accuracy:t=>{const{normalize:a}=t;return a(["总体正确率"])},overall_time:t=>{const{normalize:a}=t;return a(["平均用时"])},finished_pool:t=>{const{normalize:a}=t;return a(["完成组数"])},combo:t=>{const{normalize:a}=t;return a(["连击"])},max_combo:t=>{const{normalize:a}=t;return a(["最大"])},last_10:t=>{const{normalize:a}=t;return a(["最近10个"])}},hiragana:t=>{const{normalize:a}=t;return a(["平假名"])},katakana:t=>{const{normalize:a}=t;return a(["片假名"])},sound:t=>{const{normalize:a}=t;return a(["读音"])},click_above_to_start:t=>{const{normalize:a}=t;return a(["点击上方输入框开始"])},speed_stat:t=>{const{normalize:a}=t;return a(["速度统计"])},accuracy_stat:t=>{const{normalize:a}=t;return a(["正确率统计"])},update_available:t=>{const{normalize:a}=t;return a(["更新可用，点击以更新："])},update_button:t=>{const{normalize:a}=t;return a(["更新"])}}},6651:function(t,a,n){"use strict";var e=n(9242),s=n(3396),o=n(7139);const i={key:0},r=(0,s.Uk)(" window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-FNEHZZBCRR'); ");function l(t,a,n,e,l,u){const c=(0,s.up)("GojuonQuiz");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c),t.updateExists?((0,s.wg)(),(0,s.iD)("div",i,[(0,s.Uk)((0,o.zw)(e.t("update_available"))+" ",1),(0,s._)("button",{onClick:a[0]||(a[0]=(...a)=>t.refreshApp&&t.refreshApp(...a))},(0,o.zw)(e.t("update_button")),1)])):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)((0,s.LL)("script"),null,{default:(0,s.w5)((()=>[r])),_:1}))],64)}const u={class:"quickstart-section"},c={class:"quickstart-summary"},h={class:"quickstart-content"},_=(0,s._)("a",{href:"https://github.com/jerrylususu/gojuon-quiz",target:"_blank"},"Github",-1),d={class:"settings-section"},p={class:"settings-summary"},k={class:"settings-grid"},g={class:"setting-item"},m={class:"setting-label"},w={class:"setting-control"},y=(0,s._)("span",{class:"unit"},"ms",-1),b={class:"setting-item"},f=(0,s._)("label",{class:"setting-label"},"Language",-1),z={class:"setting-control"},v=["value"],x={class:"setting-item"},S={class:"setting-label"},j={class:"setting-control"},D={class:"setting-item"},q={class:"setting-label"},E={class:"setting-control"},M={class:"switch"},T=(0,s._)("span",{class:"slider"},null,-1),A={key:0,class:"warning-text"},C={class:"setting-item"},O={class:"setting-label"},I={class:"setting-control"},L={class:"checkbox-group"},U={class:"checkbox-label"},H={class:"checkbox-text"},V={class:"checkbox-label"},F={class:"checkbox-text"},W={key:0,class:"error-text"},R={class:"setting-item"},P={class:"setting-label"},G={class:"setting-control"},N={class:"checkbox-grid"},K=["value"],Y={class:"checkbox-text"},Z={class:"setting-item"},$={class:"setting-label"},B={class:"setting-control"},Q={value:"system"},J={value:"light"},X={value:"dark"},tt={class:"history-section"},at={class:"history-summary"},nt={class:"text-centered"},et={class:"text-centered"},st={class:"text-centered"},ot={class:"text-centered"},it={class:"text-centered"},rt={class:"large"},lt={class:"large"},ut={class:"large"},ct=["disabled"],ht={class:"speed-section"},_t={class:"speed-summary"},dt={key:0},pt={class:"accuracy-section"},kt={class:"accuracy-summary"},gt={key:0};function mt(t,a,n,i,r,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("details",u,[(0,s._)("summary",c,(0,o.zw)(i.t("quickstart_title")),1),(0,s._)("div",h,[(0,s._)("p",null,(0,o.zw)(i.t("quickstart_content.0")),1),(0,s._)("p",null,(0,o.zw)(i.t("quickstart_content.1")),1),(0,s._)("p",null,(0,o.zw)(i.t("quickstart_content.2")),1),(0,s._)("p",null,[(0,s.Uk)((0,o.zw)(i.t("quickstart_content.3")),1),_]),(0,s._)("p",null,(0,o.zw)(i.t("quickstart_content.4")),1)])]),(0,s._)("details",d,[(0,s._)("summary",p,(0,o.zw)(i.t("settings_title")),1),(0,s._)("div",k,[(0,s._)("div",g,[(0,s._)("label",m,(0,o.zw)(i.t("settings.input_wait")),1),(0,s._)("div",w,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":a[0]||(a[0]=t=>this.settings.correct_wait_ms=t),class:"number-input"},null,512),[[e.nr,this.settings.correct_wait_ms]]),y])]),(0,s._)("div",b,[f,(0,s._)("div",z,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[1]||(a[1]=t=>l.ui_language=t),class:"select-input"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.langs,((t,a)=>((0,s.wg)(),(0,s.iD)("option",{key:`Lang${a}`,value:t},(0,o.zw)(t),9,v)))),128))],512),[[e.bM,l.ui_language]])])]),(0,s._)("div",x,[(0,s._)("label",S,(0,o.zw)(i.t("settings.font")),1),(0,s._)("div",j,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=t=>this.settings.font_css_str=t),class:"text-input",placeholder:"sans-serif, serif"},null,512),[[e.nr,this.settings.font_css_str]])])]),(0,s._)("div",D,[(0,s._)("label",q,(0,o.zw)(i.t("settings.play_sound")),1),(0,s._)("div",E,[(0,s._)("label",M,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=t=>r.settings.play_sound_enabled=t)},null,512),[[e.e8,r.settings.play_sound_enabled]]),T]),r.speech_synthesis_supported?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",A,(0,o.zw)(i.t("settings.play_sound_not_supported")),1))])]),(0,s._)("div",C,[(0,s._)("label",O,(0,o.zw)(i.t("settings.test_on")),1),(0,s._)("div",I,[(0,s._)("div",L,[(0,s._)("label",U,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=t=>r.hiragana_enabled=t)},null,512),[[e.e8,r.hiragana_enabled]]),(0,s._)("span",H,(0,o.zw)(i.t("hiragana")),1)]),(0,s._)("label",V,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=t=>r.katakana_enabled=t)},null,512),[[e.e8,r.katakana_enabled]]),(0,s._)("span",F,(0,o.zw)(i.t("katakana")),1)])]),r.hiragana_enabled||r.katakana_enabled?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",W,(0,o.zw)(i.t("settings.nothing_can_be_shown")),1))])]),(0,s._)("div",R,[(0,s._)("label",P,(0,o.zw)(i.t("settings.enabled_rows")),1),(0,s._)("div",G,[(0,s._)("div",N,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.all_supported_rows,((t,n)=>((0,s.wg)(),(0,s.iD)("label",{key:n,class:"checkbox-label"},[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=t=>r.settings.enabled_rows=t),onChange:a[7]||(a[7]=(...t)=>l.initGame&&l.initGame(...t)),value:t},null,40,K),[[e.e8,r.settings.enabled_rows]]),(0,s._)("span",Y,(0,o.zw)(t),1)])))),128))])])]),(0,s._)("div",Z,[(0,s._)("label",$,(0,o.zw)(i.t("settings.dark_mode")),1),(0,s._)("div",B,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[8]||(a[8]=t=>r.settings.theme_mode=t),class:"select-input"},[(0,s._)("option",Q,(0,o.zw)(i.t("settings.theme_system")),1),(0,s._)("option",J,(0,o.zw)(i.t("settings.theme_light")),1),(0,s._)("option",X,(0,o.zw)(i.t("settings.theme_dark")),1)],512),[[e.bM,r.settings.theme_mode]])])])])]),(0,s._)("details",tt,[(0,s._)("summary",at,(0,o.zw)(i.t("history_title")),1),(0,s._)("table",null,[(0,s._)("tr",null,[(0,s._)("th",null,(0,o.zw)(i.t("history.overall_accuracy")),1),(0,s._)("th",null,(0,o.zw)(i.t("history.overall_time")),1),(0,s._)("th",null,(0,o.zw)(i.t("history.finished_pool")),1),(0,s._)("th",null,(0,o.zw)(i.t("history.combo")),1),(0,s._)("th",null,(0,o.zw)(i.t("history.last_10")),1)]),(0,s._)("tr",null,[(0,s._)("td",nt,(0,o.zw)(this.total_accruacy_str)+" ("+(0,o.zw)(this.stats.total_correct)+"/"+(0,o.zw)(this.stats.total_tested)+")",1),(0,s._)("td",et,(0,o.zw)(this.average_time_str),1),(0,s._)("td",st,(0,o.zw)(this.stats.pool_finish_count),1),(0,s._)("td",ot,(0,o.zw)(this.stats.combo)+" ("+(0,o.zw)(i.t("history.max_combo"))+" "+(0,o.zw)(this.stats.max_combo)+")",1),(0,s._)("td",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.stats.last_10.slice().reverse(),(t=>((0,s.wg)(),(0,s.iD)("span",{key:t.enrolled_time,class:(0,o.C_)({correct:t.isCorrect,incorrect:!t.isCorrect})},(0,o.zw)(t.hiragana)+(0,o.zw)(t.katakana),3)))),128))])])])]),(0,s._)("div",it,[(0,s._)("table",{class:"centered",style:(0,o.j5)(this.custom_css)},[(0,s._)("tr",null,[(0,s._)("th",null,(0,o.zw)(i.t("hiragana")),1),(0,s._)("th",null,(0,o.zw)(i.t("katakana")),1),(0,s._)("th",null,(0,o.zw)(i.t("sound")),1)]),(0,s._)("tr",null,[(0,s._)("td",rt,(0,o.zw)(this.display_hiragana),1),(0,s._)("td",lt,(0,o.zw)(this.display_katakana),1),(0,s._)("td",ut,(0,o.zw)(this.display_sound),1)])],4),(0,s._)("div",{class:(0,o.C_)(["sound-input centered",l.inputBackgroundClass])}," "+(0,o.zw)(this.inputValue)+" ",3),(0,s.wy)((0,s._)("input",{class:"sound-input centered",onInput:a[9]||(a[9]=(...t)=>l.onInput&&l.onInput(...t)),onKeyup:a[10]||(a[10]=(0,e.D2)(((...t)=>l.onEnter&&l.onEnter(...t)),["enter"])),"onUpdate:modelValue":a[11]||(a[11]=t=>this.inputValue=t),type:"password",disabled:!r.hiragana_enabled&&!r.katakana_enabled,autocomplete:"off",style:{color:"transparent"}},null,40,ct),[[e.nr,this.inputValue]]),(0,s.wy)((0,s._)("div",{class:"centered"},(0,o.zw)(i.t("click_above_to_start")),513),[[e.F8,r.initial_input]])]),(0,s._)("details",ht,[(0,s._)("summary",_t,(0,o.zw)(i.t("speed_stat"))+" (ms)",1),(0,s._)("table",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.history,((t,a)=>((0,s.wg)(),(0,s.iD)("tr",{key:a},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,((t,a)=>((0,s.wg)(),(0,s.iD)("td",{key:a,style:(0,o.j5)(this.speed_style(t))},[""!==t.hiragana?((0,s.wg)(),(0,s.iD)("span",dt,(0,o.zw)(t.hiragana)+(0,o.zw)(t.avg_time_ms.toFixed(0)),1)):(0,s.kq)("",!0)],4)))),128))])))),128))])]),(0,s._)("details",pt,[(0,s._)("summary",kt,(0,o.zw)(i.t("accuracy_stat")),1),(0,s._)("table",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.history,((t,a)=>((0,s.wg)(),(0,s.iD)("tr",{key:a},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,((t,a)=>((0,s.wg)(),(0,s.iD)("td",{key:a,style:(0,o.j5)(this.accuracy_style(t))},[""!==t.hiragana?((0,s.wg)(),(0,s.iD)("span",gt,(0,o.zw)(t.hiragana)+(0,o.zw)(0===t.total?0:(t.correct/t.total*100).toFixed(0))+"%",1)):(0,s.kq)("",!0)],4)))),128))])))),128))])])],64)}n(6699);const wt=[{hiragana:"あ",katakana:"ア",sound:"a",type:"清",skip_count:"",row:"a"},{hiragana:"い",katakana:"イ",sound:"i",type:"清",skip_count:"",row:"a"},{hiragana:"う",katakana:"ウ",sound:"u",type:"清",skip_count:"",row:"a"},{hiragana:"え",katakana:"エ",sound:"e",type:"清",skip_count:"",row:"a"},{hiragana:"お",katakana:"オ",sound:"o",type:"清",skip_count:"",row:"a"},{hiragana:"か",katakana:"カ",sound:"ka",type:"清",skip_count:"",row:"ka"},{hiragana:"き",katakana:"キ",sound:"ki",type:"清",skip_count:"",row:"ka"},{hiragana:"く",katakana:"ク",sound:"ku",type:"清",skip_count:"",row:"ka"},{hiragana:"け",katakana:"ケ",sound:"ke",type:"清",skip_count:"",row:"ka"},{hiragana:"こ",katakana:"コ",sound:"ko",type:"清",skip_count:"",row:"ka"},{hiragana:"さ",katakana:"サ",sound:"sa",type:"清",skip_count:"",row:"sa"},{hiragana:"し",katakana:"シ",sound:"shi",type:"清",skip_count:"",row:"sa"},{hiragana:"す",katakana:"ス",sound:"su",type:"清",skip_count:"",row:"sa"},{hiragana:"せ",katakana:"セ",sound:"se",type:"清",skip_count:"",row:"sa"},{hiragana:"そ",katakana:"ソ",sound:"so",type:"清",skip_count:"",row:"sa"},{hiragana:"た",katakana:"タ",sound:"ta",type:"清",skip_count:"",row:"ta"},{hiragana:"ち",katakana:"チ",sound:"chi",type:"清",skip_count:"",row:"ta"},{hiragana:"つ",katakana:"ツ",sound:"tsu,tu",type:"清",skip_count:"",row:"ta"},{hiragana:"て",katakana:"テ",sound:"te",type:"清",skip_count:"",row:"ta"},{hiragana:"と",katakana:"ト",sound:"to",type:"清",skip_count:"",row:"ta"},{hiragana:"な",katakana:"ナ",sound:"na",type:"清",skip_count:"",row:"na"},{hiragana:"に",katakana:"ニ",sound:"ni",type:"清",skip_count:"",row:"na"},{hiragana:"ぬ",katakana:"ヌ",sound:"nu",type:"清",skip_count:"",row:"na"},{hiragana:"ね",katakana:"ネ",sound:"ne",type:"清",skip_count:"",row:"na"},{hiragana:"の",katakana:"ノ",sound:"no",type:"清",skip_count:"",row:"na"},{hiragana:"は",katakana:"ハ",sound:"ha",type:"清",skip_count:"",row:"ha"},{hiragana:"ひ",katakana:"ヒ",sound:"hi",type:"清",skip_count:"",row:"ha"},{hiragana:"ふ",katakana:"フ",sound:"fu",type:"清",skip_count:"",row:"ha"},{hiragana:"へ",katakana:"ヘ",sound:"he",type:"清",skip_count:"",row:"ha"},{hiragana:"ほ",katakana:"ホ",sound:"ho",type:"清",skip_count:"",row:"ha"},{hiragana:"ま",katakana:"マ",sound:"ma",type:"清",skip_count:"",row:"ma"},{hiragana:"み",katakana:"ミ",sound:"mi",type:"清",skip_count:"",row:"ma"},{hiragana:"む",katakana:"ム",sound:"mu",type:"清",skip_count:"",row:"ma"},{hiragana:"め",katakana:"メ",sound:"me",type:"清",skip_count:"",row:"ma"},{hiragana:"も",katakana:"モ",sound:"mo",type:"清",skip_count:"",row:"ma"},{hiragana:"や",katakana:"ヤ",sound:"ya",type:"清",skip_count:"1",row:"ya"},{hiragana:"ゆ",katakana:"ユ",sound:"yu",type:"清",skip_count:"1",row:"ya"},{hiragana:"よ",katakana:"ヨ",sound:"yo",type:"清",skip_count:"",row:"ya"},{hiragana:"ら",katakana:"ラ",sound:"ra",type:"清",skip_count:"",row:"ra"},{hiragana:"り",katakana:"リ",sound:"ri",type:"清",skip_count:"",row:"ra"},{hiragana:"る",katakana:"ル",sound:"ru",type:"清",skip_count:"",row:"ra"},{hiragana:"れ",katakana:"レ",sound:"re",type:"清",skip_count:"",row:"ra"},{hiragana:"ろ",katakana:"ロ",sound:"ro",type:"清",skip_count:"",row:"ra"},{hiragana:"わ",katakana:"ワ",sound:"wa",type:"清",skip_count:"3",row:"wa"},{hiragana:"を",katakana:"ヲ",sound:"wo,o",type:"清",skip_count:"",row:"wa"},{hiragana:"ん",katakana:"ン",sound:"n,nn",type:"清",skip_count:"4",row:"n"},{hiragana:"が",katakana:"ガ",sound:"ga",type:"浊",skip_count:"",row:"ga"},{hiragana:"ぎ",katakana:"ギ",sound:"gi",type:"浊",skip_count:"",row:"ga"},{hiragana:"ぐ",katakana:"グ",sound:"gu",type:"浊",skip_count:"",row:"ga"},{hiragana:"げ",katakana:"ゲ",sound:"ge",type:"浊",skip_count:"",row:"ga"},{hiragana:"ご",katakana:"ゴ",sound:"go",type:"浊",skip_count:"",row:"ga"},{hiragana:"ざ",katakana:"ザ",sound:"za",type:"浊",skip_count:"",row:"za"},{hiragana:"じ",katakana:"ジ",sound:"ji",type:"浊",skip_count:"",row:"za"},{hiragana:"ず",katakana:"ズ",sound:"zu",type:"浊",skip_count:"",row:"za"},{hiragana:"ぜ",katakana:"ゼ",sound:"ze",type:"浊",skip_count:"",row:"za"},{hiragana:"ぞ",katakana:"ゾ",sound:"zo",type:"浊",skip_count:"",row:"za"},{hiragana:"だ",katakana:"ダ",sound:"da",type:"浊",skip_count:"",row:"da"},{hiragana:"ぢ",katakana:"ヂ",sound:"ji,di",type:"浊",skip_count:"",row:"da"},{hiragana:"づ",katakana:"ヅ",sound:"du",type:"浊",skip_count:"",row:"da"},{hiragana:"で",katakana:"デ",sound:"de",type:"浊",skip_count:"",row:"da"},{hiragana:"ど",katakana:"ド",sound:"do",type:"浊",skip_count:"",row:"da"},{hiragana:"ば",katakana:"バ",sound:"ba",type:"浊",skip_count:"",row:"ba"},{hiragana:"び",katakana:"ビ",sound:"bi",type:"浊",skip_count:"",row:"ba"},{hiragana:"ぶ",katakana:"ブ",sound:"bu",type:"浊",skip_count:"",row:"ba"},{hiragana:"べ",katakana:"ベ",sound:"be",type:"浊",skip_count:"",row:"ba"},{hiragana:"ぼ",katakana:"ボ",sound:"bo",type:"浊",skip_count:"",row:"ba"},{hiragana:"ぱ",katakana:"パ",sound:"pa",type:"半浊",skip_count:"",row:"pa"},{hiragana:"ぴ",katakana:"ピ",sound:"pi",type:"半浊",skip_count:"",row:"pa"},{hiragana:"ぷ",katakana:"プ",sound:"pu",type:"半浊",skip_count:"",row:"pa"},{hiragana:"ぺ",katakana:"ペ",sound:"pe",type:"半浊",skip_count:"",row:"pa"},{hiragana:"ぽ",katakana:"ポ",sound:"po",type:"半浊",skip_count:"",row:"pa"}];var yt=n(4329),bt={data(){return{inputValue:"",show_hiragana:!1,show_katakana:!1,show_sound:!1,existing_timeout:null,last_show_time:null,initial_input:!0,settings:{ui_language:"zh",correct_wait_ms:1e3,font_css_str:"sans-serif, serif",enabled_rows:["a","ka","sa","ta","na","ha","ma","ya","ra","wa","(...)"],play_sound_enabled:!1,theme_mode:"system"},current:{hiragana:"",katakana:"",sound:""},stats:{last_10:[],total_tested:0,total_correct:0,total_response_time:0,pool_finish_count:0,combo:0,max_combo:0},history:[],hiragana_to_history:{},pool:[],langs:["zh","en"],hiragana_enabled:!0,katakana_enabled:!0,all_supported_rows:["a","ka","sa","ta","na","ha","ma","ya","ra","wa","(...)"],speech_synthesis_supported:!1,speech_synthesis_instance:null}},computed:{correct(){return this.current.sound.split(",").includes(this.inputValue.toLowerCase())},maxLenInAnswer(){return this.current.sound.split(",").map((t=>t.length)).reduce(((t,a)=>Math.max(t,a)))},inputBackgroundClass(){return{correct:this.correct,incorrect:!this.correct&&this.inRevealState}},display_hiragana(){return this.show_hiragana?this.current.hiragana:" "},display_katakana(){return this.show_katakana?this.current.katakana:" "},display_sound(){return this.show_sound?this.current.sound:" "},inRevealState(){return this.show_hiragana&&this.show_katakana&&this.show_sound},total_accruacy_str(){return`${(this.stats.total_correct/this.stats.total_tested*100).toFixed(2)}%`},average_time_str(){return`${(this.stats.total_response_time/this.stats.total_tested).toFixed(2)}ms`},custom_css(){return`font-family: ${this.settings.font_css_str};`},ui_language:{get(){return this.$i18n.locale},set(t){this.settings.ui_language=t,this.$i18n.locale=t}}},methods:{onInput(){this.correct?(this.reveal(),this.existing_timeout=setTimeout((()=>{this.next()}),this.settings.correct_wait_ms)):this.inputValue.length==this.maxLenInAnswer&&this.reveal()},onEnter(){null!==this.existing_timeout&&window.clearTimeout(this.existing_timeout),this.correct?this.next():!this.inRevealState||this.correct?this.correct||this.reveal():this.next()},updateHistory(){if(this.initial_input)return void(this.initial_input=!1);this.hiragana_to_history[this.current.hiragana].total+=1,this.stats.total_tested+=1;let t=Date.now()-this.last_show_time;if(this.stats.last_10.push({hiragana:this.current.hiragana,katakana:this.current.katakana,isCorrect:this.correct,enrolled_time:this.last_show_time}),this.stats.last_10.length>10&&this.stats.last_10.shift(),this.correct||(this.stats.combo=0),this.correct){this.stats.combo+=1,this.stats.max_combo=Math.max(this.stats.max_combo,this.stats.combo),this.stats.total_response_time+=t,this.stats.total_correct+=1;let a=this.hiragana_to_history[this.current.hiragana];a.avg_time_ms=(a.avg_time_ms*a.correct+t)/(a.correct+1),a.correct+=1}let a=0,n=1e9;for(const e of this.history)for(const t of e)t.avg_time_ms>0&&(a=Math.max(a,t.avg_time_ms),n=Math.min(n,t.avg_time_ms));for(let e of this.history)for(let t of e)t.avg_time_ms>0&&(t.relative_speed=(t.avg_time_ms-n+.001)/(a-n))},reveal(){this.updateHistory(),this.show_hiragana=!0,this.show_katakana=!0,this.show_sound=!0,this.settings.play_sound_enabled&&this.speech_synthesis_supported&&(this.speech_synthesis_instance.text=this.current.katakana,window.speechSynthesis.speak(this.speech_synthesis_instance))},next(){this.inputValue="";let t=null;if(0==this.pool.length&&(this.fillPool(),this.stats.pool_finish_count+=1),Math.random()<.8&&!this.initial_input){let a=Math.floor(Math.random()*this.pool.length);t=this.pool[a],this.pool.splice(a,1)}else t=this.randomInRange();this.current.sound=t.sound,this.current.hiragana=t.hiragana,this.current.katakana=t.katakana,this.hiragana_enabled&&this.katakana_enabled?Math.random()>.5?(this.show_hiragana=!1,this.show_katakana=!0):(this.show_katakana=!1,this.show_hiragana=!0):this.hiragana_enabled&&!this.katakana_enabled?(this.show_hiragana=!0,this.show_katakana=!1):!this.hiragana_enabled&&this.katakana_enabled&&(this.show_hiragana=!1,this.show_katakana=!0),this.show_sound=!1,this.last_show_time=Date.now()},buildHistoryMatrix(){let t=[[],[],[],[],[]],a=-1,n={hiragana:"",katakana:"",sound:"",total:0,correct:0,avg_time_ms:0,relative_speed:0},e={};for(let s of wt)if(e[s.hiragana]=s,s["total"]=0,s["correct"]=0,s["avg_time_ms"]=0,s["relative_speed"]=0,a=(a+1)%5,t[a].push(s),""!==s.skip_count){s.skip_count=parseInt(s.skip_count);for(let e=0;e<s.skip_count;e++)a=(a+1)%5,t[a].push(n)}this.history=t,this.hiragana_to_history=e},lerp_color(t,a,n){const e=t>>16,s=t>>8&255,o=255&t,i=a>>16,r=a>>8&255,l=255&a,u=e+n*(i-e),c=s+n*(r-s),h=o+n*(l-o);return"#"+((1<<24)+(u<<16)+(c<<8)+h|0).toString(16).slice(1)},speed_style(t){if(0==t.relative_speed)return{};let a=t.relative_speed,n=this.lerp_color(65280,16711680,a);return{backgroundColor:n}},accuracy_style(t){if(0==t.total)return{};let a=this.lerp_color(16711680,65280,t.correct/t.total);return{backgroundColor:a}},fillPool(){this.pool=[...wt].filter((t=>this.settings.enabled_rows.includes(t.row)||this.settings.enabled_rows.includes("(...)")&&!this.all_supported_rows.includes(t.row)))},randomInRange(){const t=[...wt].filter((t=>this.settings.enabled_rows.includes(t.row)||this.settings.enabled_rows.includes("(...)")&&!this.all_supported_rows.includes(t.row)));return t[Math.floor(Math.random()*t.length)]},initGame(){this.fillPool(),this.next(),this.buildHistoryMatrix()},setSpeechSynthesis(){"speechSynthesis"in window&&(this.speech_synthesis_supported=!0,this.speech_synthesis_instance=new SpeechSynthesisUtterance,this.speech_synthesis_instance.lang="ja-JP",this.speech_synthesis_instance.rate=.5)},loadSettings(){let t=localStorage.getItem("settings");null!==t&&(this.settings=JSON.parse(t))},applyTheme(){const t=window.matchMedia("(prefers-color-scheme: dark)").matches,a="dark"===this.settings.theme_mode||"system"===this.settings.theme_mode&&t;document.documentElement.classList.toggle("dark-mode",a)},initTheme(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>this.applyTheme())),this.applyTheme()}},mounted(){this.initGame(),this.setSpeechSynthesis(),this.loadSettings(),this.initTheme()},setup(){const{t:t}=(0,yt.QT)({inheritLocale:!0,missingWarn:!1,fallbackWarn:!1});return{t:t}},watch:{settings:{handler(t){localStorage.setItem("settings",JSON.stringify(t))},deep:!0},"settings.theme_mode"(){this.applyTheme()}}},ft=n(89);const zt=(0,ft.Z)(bt,[["render",mt]]);var vt=zt,xt={data(){return{refreshing:!1,registration:null,updateExists:!1}},created(){document.addEventListener("swUpdated",this.updateAvailable,{once:!0})},methods:{updateAvailable(t){this.registration=t.detail,this.updateExists=!0},refreshApp(){this.updateExists=!1,this.registration&&this.registration.waiting&&this.registration.waiting.postMessage({type:"SKIP_WAITING"})}}},St={name:"App",components:{GojuonQuiz:vt},mixins:[xt],mounted(){let t=document.createElement("script");t.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=G-FNEHZZBCRR"),document.head.appendChild(t)},setup(){const{t:t}=(0,yt.QT)({inheritLocale:!0,missingWarn:!1,fallbackWarn:!1});return{t:t}}};const jt=(0,ft.Z)(St,[["render",l]]);var Dt=jt;function qt(){const t=n(8973),a={};return t.keys().forEach((n=>{const e=n.match(/([A-Za-z0-9-_]+)\./i);if(e&&e.length>1){const s=e[1];a[s]=t(n).default}})),a}var Et=(0,yt.o)({legacy:!1,globalInjection:!0,locale:navigator.language.split("-")[0]||"zh-cn",fallbackLocale:"en",messages:qt(),silentTranslationWarn:!0,silentFallbackWarn:!0,missingWarn:!1,fallbackWarn:!1}),Mt=n(5431);(0,Mt.z)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(t){console.log("New content is available; please refresh."),document.dispatchEvent(new CustomEvent("swUpdated",{detail:t}))},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}}),(0,e.ri)(Dt).use(Et).mount("#app")},8973:function(t,a,n){var e={"./en.json":3482,"./zh.json":7625};function s(t){var a=o(t);return n(a)}function o(t){if(!n.o(e,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e[t]}s.keys=function(){return Object.keys(e)},s.resolve=o,t.exports=s,s.id=8973}},a={};function n(e){var s=a[e];if(void 0!==s)return s.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(a,e,s,o){if(!e){var i=1/0;for(c=0;c<t.length;c++){e=t[c][0],s=t[c][1],o=t[c][2];for(var r=!0,l=0;l<e.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every((function(t){return n.O[t](e[l])}))?e.splice(l--,1):(r=!1,o<i&&(i=o));if(r){t.splice(c--,1);var u=s();void 0!==u&&(a=u)}}return a}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[e,s,o]}}(),function(){n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,{a:a}),a}}(),function(){n.d=function(t,a){for(var e in a)n.o(a,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:a[e]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(a){return 0===t[a]};var a=function(a,e){var s,o,i=e[0],r=e[1],l=e[2],u=0;if(i.some((function(a){return 0!==t[a]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(l)var c=l(n)}for(a&&a(e);u<i.length;u++)o=i[u],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(c)},e=self["webpackChunkgojuon_quiz"]=self["webpackChunkgojuon_quiz"]||[];e.forEach(a.bind(null,0)),e.push=a.bind(null,e.push.bind(e))}();var e=n.O(void 0,[998],(function(){return n(6651)}));e=n.O(e)})();
//# sourceMappingURL=app.fc1cc878.js.map